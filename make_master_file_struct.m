% This functions generates a master_file struct_from scratch
% Want to update this so it adds new ones without overwriting old master
% file struct, necessarily.

function make_master_file_struct()

    % Removes old master_file_struct
    delete('master_file_struct.mat');

    master_file_struct = struct;
    master_file_struct.main_direc = '/Users/eddi/Documents/MATLAB/Cell_Analysis/'; %'/Users/eddi/Documents/Work/SCH23390/';
    save('master_file_struct', 'master_file_struct');

    unit_super_direc = '/Users/eddi/Documents/MATLAB/Cell_Analysis/AttIN_OUT_Contrasts';
    bhv_super_direc = '/Users/eddi/Documents/Work/SCH23390/Lever_Training';
    
    unit_sub_direcs = dir(unit_super_direc);
    unit_sub_direcs = unit_sub_direcs([unit_sub_direcs.isdir] == 1);
    unit_sub_direcs = unit_sub_direcs( 3:end ); % Eliminate . and .. directories
    
    % Iterate through unit_subdirecs
    for i = 1:length(unit_sub_direcs)
        
        folder = unit_sub_direcs(i);
        search_folder = fullfile( unit_super_direc, folder.name );
        
        % Identify EventTimes File
        event_file_struct = findfiles( search_folder, '*Event*', 0 );
        if ~ isempty(event_file_struct)
            event_file = event_file_struct.name;    
        else
          disp( strcat('No Event File in: ', {' '}, folder.name ) ); 
          continue
        end
        
        
        % Identify Unit Files
        % If Sorted2.0 folder exists, search in it
        if isdir( fullfile( search_folder, 'sorted2.0') )
            search_folder = fullfile( search_folder, 'sorted2.0' );
        % Else search in Sorted
        elseif isdir( fullfile( search_folder, 'Sorted') )
            search_folder = fullfile( search_folder, 'Sorted' );
        else
            disp( strcat( 'No Files Sorted in:', {' '}, folder.name ));
            continue
        end
              
        unit_filelist_struct = findfiles( search_folder, '*.mat', 0 );
        unit_filelist = {unit_filelist_struct.name};
        
        % Identify Associated .bhv Files
        folder_date = convert_folder_date(folder.name);
        
        bhv_filelist_struct = findfiles( bhv_super_direc, strcat('*',folder_date,'*'), 0 );
        LP_file_exists = strfind( {bhv_filelist_struct.name}, 'LP' );
        LP_file_indices = find(~cellfun(@isempty, LP_file_exists));
        bhv_filelist_struct = bhv_filelist_struct( LP_file_indices );
        
        if isempty( bhv_filelist_struct )
            disp( strcat('No bhv files in folder:', {' '}, folder.name ) );
            continue;
        end
        bhv_filelist = {bhv_filelist_struct.name};
 
        % Identify Drug
        if ~isempty( strfind( unit_filelist{1}, 'SCH' ) )
            drug = 'SCH23390';
        elseif ~isempty( strfind( unit_filelist{1}, 'SKF' ) )
            drug = 'SKF81297';
        else
            disp( strcat('No Drug Information available in filenames for:', {' '}, folder.name ));
            drug = '';
        end
        
        % add session
        disp( strcat( 'Adding session:', {' '}, folder.name ) );
        add_session( folder.name, event_file, bhv_filelist, unit_filelist, drug );

    end

end

function rslt = convert_folder_date( folder )
    
    year = folder(1:4);
    month = folder(6:7);
    day = folder(9:10);

    rslt = strcat( month, '-', day, '-', year );
end



%     % Remove old master_file_struct
%     delete('master_file_struct.mat');
% 
%     % Set Up Fresh Master File Struct
%     master_file_struct = struct;
%     master_file_struct.main_direc = '/Users/eddi/Documents/Work/SCH23390/';
%     save('master_file_struct', 'master_file_struct');
% 
% 
%     % 2015.11.04
%     sub_direc = '2015.11.04/';
%     event_file = '2015.11.04_Eventdata.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-04-2015.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-04-2015(01).bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-04-2015(02).bhv'};
%     unit_files = {'2015.11.04_Garfunkel_SCH23390_10mM_1094-3071_MUnit002.mat', ...
%                   '2015.11.04_Garfunkel_SCH23390_10mM_1094-3071_Unit001.mat', ...
%                   '2015.11.04_Garfunkel_SCH23390_10mM_3609-8066_Unit001.mat', ...
%                   '2015.11.04_Garfunkel_SCH23390_10mM_3609-8066_Unit002.mat', ...
%                   '2015.11.04_Garfunkel_SCH23390_10mM_8501-11448_Unit001.mat', ...
%                   '2015.11.04_Garfunkel_SCH23390_10mM_8501-11448_MUnit002.mat'};
%     drug = 'SCH23390';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
% 
%     % 2015.11.14
%     sub_direc = '2015.11.14/';
%     event_file = '2015.11.14_Eventdata.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-14-2015.bhv'};
%     unit_files = {'2015.11.14_Garfunkel_SCH23390_10mM_7128-9550_Unit001.mat'};
%     drug = 'SCH23390';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
% 
%     % 2015.11.15
%     sub_direc = '2015.11.15/';
%     event_file = '2015.11.15_Eventdata.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-15-2015.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-15-2015(02).bhv'};            
%     unit_files = {'2015.11.15_Gafunkel_SCH23390_10mM_1839-4133_Unit001.mat', ...
%                   '2015.11.15_Gafunkel_SCH23390_10mM_1839-4133_Unit002.mat', ...
%                   '2015.11.15_Gafunkel_SCH23390_10mM_5518-8090_MUnit001.mat'};
%     drug = 'SCH23390';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
% 
%     % 2015.11.16
%     sub_direc = '2015.11.16/';
%     event_file = '2015.11.16_EventData.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-16-2015.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-16-2015_01.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-16-2015_02.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-16-2015_03.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-16-2015_04.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-16-2015_05.bhv'};
%     unit_files = { '2015.11.16_Garfunkel_SCH23390_10mM_2060-3385_Unit001.mat', ...
%                    '2015.11.16_Garfunkel_SCH23390_10mM_9914-11577_MUnit003-04.mat', ...
%                    '2015.11.16_Garfunkel_SCH23390_10mM_9914-11577_Unit001.mat', ...
%                    '2015.11.16_Garfunkel_SCH23390_10mM_9914-11577_Unit002.mat', ...
%                    '2015.11.16_Garfunkel_SCH23390_10mM_9914-11577_Unit003.mat', ...
%                    '2015.11.16_Garfunkel_SCH23390_10mM_9914-11577_Unit004.mat'};
%     drug = 'SCH23390';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
%     % Drug missing (Current applied through 'B', therefore not logged electronically)
%     % '2015.11.16_Garfunkel_SCH23390_10mM_3710-4776_Unit001.mat'), ...
%     % '2015.11.16_Garfunkel_SCH23390_10mM_3710-4776_Unit002.mat'), ...
%     % '2015.11.16_Garfunkel_SCH23390_10mM_5808-6977_Unit001.mat'), ...
% 
%     % 2015.11.18 %%%%%%%% 
%     sub_direc = '2015.11.18/';
%     event_file = '2015.11.18_EventTimestamps.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-18-2015.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-18-2015(01).bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-18-2015(02).bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-18-2015(03).bhv'};
%     unit_files = {'2015.11.18_Garfunkel_SCH23390_10mM_230-2042_Unit001.mat', ...
%                   '2015.11.18_Garfunkel_SCH23390_10mM_230-2042_Unit002.mat', ...
%                   '2015.11.18_Garfunkel_SCH23390_10mM_230-2042_Unit003.mat', ...
%                   '2015.11.18_Garfunkel_SCH23390_10mM_2920-4493_MUnit001.mat', ...
%                   '2015.11.18_Garfunkel_SCH23390_10mM_6476-7670_MUnit03.mat', ...
%                   '2015.11.18_Garfunkel_SCH23390_10mM_6476-7670_Unit01.mat', ...
%                   '2015.11.18_Garfunkel_SCH23390_10mM_6476-7670_Unit02.mat', ...
%                   '2015.11.18_Garfunkel_SCH23390_10mM_7670-9098_MUnit01-02.mat', ...
%                   '2015.11.18_Garfunkel_SCH23390_10mM_7670-9098_MUnit03.mat', ...
%                   '2015.11.18_Garfunkel_SCH23390_10mM_9215-11116_Unit001.mat', ...
%                   '2015.11.18_Garfunkel_SCH23390_10mM_9215-11116_Unit002.mat', ...
%                   '2015.11.18_Garfunkel_SCH23390_10mM_9215-11116_Unit003.mat'};
%     drug = 'SCH23390';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
% 
%     % 2015.11.23
%     sub_direc = '2015.11.23/';
%     event_file = '2015.11.23_EventTimestamps.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-23-2015.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-11-23-2015(01).bhv'};
%     unit_files = {'2015.11.23_Garfunkel_SCH23390_10mM_0-1841_Unit001.mat', ...
%                   '2015.11.23_Garfunkel_SCH23390_10mM_3017-5533_Unit001.mat', ...
%                   '2015.11.23_Garfunkel_SCH23390_10mM_3017-5533_Unit002.mat'};
%     drug = 'SCH23390';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
%     
%     % 2015.12.03
%     sub_direc = '2015.12.03/';
%     event_file = '2015.12.03_Eventdata.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_Setable-garf-12-03-2015.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-12-03-2015(01).bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-12-03-2015(02).bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-12-03-2015(03).bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-12-03-2015(04).bhv'};
%     unit_files = {'2015.12.03_Garfunkel_SCH23390_10mM_33-3185_Unit001.mat', ...
%                   '2015.12.03_Garfunkel_SCH23390_10mM_3493-5739_MUnit002.mat', ...
%                   '2015.12.03_Garfunkel_SCH23390_10mM_3493-5739_Unit001.mat', ...
%                   '2015.12.03_Garfunkel_SCH23390_10mM_9181-10701_Unit001.mat', ...
%                   '2015.12.03_Garfunkel_SCH23390_10mM_9181-10701_Unit002.mat', ...
%                   '2015.12.03_Garfunkel_SCH23390_10mM_10932-12203_Unit001.mat', ...
%                   '2015.12.03_Garfunkel_SCH23390_10mM_10932-12203_Unit002.mat', ...
%                   '2015.12.03_Garfunkel_SCH23390_10mM_12349-1449_Unit001.mat', ...
%                   '2015.12.03_Garfunkel_SCH23390_10mM_12349-1449_Unit002.mat'};
%     drug = 'SCH23390';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
% 
%     %%% TOO SPARSE
%     % '2015.12.03_Garfunkel_SCH23390_10mM_8260-8907_Unit001.mat'
%     % '2015.12.03_Garfunkel_SCH23390_10mM_8260-8907_Unit002.mat'
% 
%     % 2016.01.21
% 
%     sub_direc = '2016.01.21/';
%     event_file = '2016.01.21_PL_EventTimes.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_Setable-garf-01-21-2016.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-01-21-2016(01).bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-01-21-2016(02).bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-01-21-2016(03).bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_Setable-garf-01-21-2016(04).bhv'};
%     unit_files = {'2016.01.21_Garfunkel_SCH23390_10mM_552-2462_Unit001.mat', ...
%                  '2016.01.21_Garfunkel_SCH23390_10mM_3321-4361_Unit001.mat', ...
%                  '2016.01.21_Garfunkel_SCH23390_10mM_6722-7713_Combined-Unit001-Unit002.mat', ...
%                  '2016.01.21_Garfunkel_SCH23390_10mM_7989-8741_Unit001.mat', ...
%                  '2016.01.21_Garfunkel_SCH23390_10mM_8944-9451_Unit001.mat'};
%     drug = 'SCH23390';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
%     % If not using combined:
%     % '2016.01.21_Garfunkel_SCH23390_10mM_6722-7713_Unit001.mat'
%     % '2016.01.21_Garfunkel_SCH23390_10mM_6722-7713_Unit002.mat'
% 
%     
%     % 2016.03.20 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
% %     sub_direc = '2016.03.20/';
% %     event_file = '2016.03.20_Garfunkel_SCH23390_10mM.mat';
% %     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir-Garf-03-20-2016.bhv', ...
% %                  'LP_Cue_NoCue_Blank_Fix_8Dir-Garf-03-20-2016_01.bhv'};
% %     unit_files = {'2016.03.20_Garfunkel_SCH23390_10mM_4984-6384_MultiUnitA.mat', ...
% %                   '2016.03.20_Garfunkel_SCH23390_10mM_7080-8359_MultiUnitB.mat', ...
% %                   '2016.03.20_Garfunkel_SCH23390_10mM_7080-8359_UnitA.mat', ...
% %                   '2016.03.20_Garfunkel_SCH23390_10mM_8359-10745_MultiUnitA.mat'};
% %     add_session( sub_direc, event_file, bhv_files, unit_files, drug ); 
% 
% 
%     % 2016.03.21 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
% %     sub_direc = '2016.03.21/';
% %     event_file = '2016.03.21_Garfunkel_SCH23390_10mM.mat';
% %     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir-Garf-03-21-2016.bhv', ...
% %                  'LP_Cue_NoCue_Blank_Fix_8Dir-Garf-03-21-2016_01.bhv', ...
% %                  'LP_Cue_NoCue_Blank_Fix_8Dir-Garf-03-21-2016_02.bhv', ...
% %                  'LP_Cue_NoCue_Blank_Fix_8Dir-Garf-03-21-2016_03.bhv', ...
% %                  'LP_Cue_NoCue_Blank_Fix_8Dir-Garf-03-21-2016_04.bhv'};
% %     unit_files = {'2016.03.21_Garfunkel_SCH23390_10mM_0-2288_Unit02_Multi.mat', ...
% %                   '2016.03.21_Garfunkel_SCH23390_10mM_0-2288_UnitA.mat', ...
% %                   '2016.03.21_Garfunkel_SCH23390_10mM_2290-2732_Unit01_Multi.mat', ...
% %                   '2016.03.21_Garfunkel_SCH23390_10mM_3447-4518_Unit01_Multi.mat', ...
% %                   '2016.03.21_Garfunkel_SCH23390_10mM_4668-7998_Unit01.mat', ...
% %                   '2016.03.21_Garfunkel_SCH23390_10mM_4668-7998_Unit02_Multi.mat'};
% %     add_session( sub_direc, event_file, bhv_files, unit_files, drug );     
%     
% 
%     % 2016.03.27 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
%     sub_direc = '2016.03.27/';
%     event_file = '2016.03.27_Garfunkel_SKF81297_10mM.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-03-27-2016.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-03-27-2016_02.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-03-27-2016_03.bhv'};
%     unit_files = {'2016.03.27_Garfunkel_SKF81297_10mM_153-1010_Unit02.mat', ...
%                   '2016.03.27_Garfunkel_SKF81297_10mM_153-1814_Unit01.mat', ...
%                   '2016.03.27_Garfunkel_SKF81297_10mM_1844-2895_MultiUnit.mat', ...
%                   '2016.03.27_Garfunkel_SKF81297_10mM_3185-4070_CombinedMultiUnit.mat', ...
%                   '2016.03.27_Garfunkel_SKF81297_10mM_3185-4070_Unit01.mat', ...
%                   '2016.03.27_Garfunkel_SKF81297_10mM_3185-4070_Unit02.mat'};
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug ); 
%  
% 
% %     % 2016.04.01 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
% %     sub_direc = '2016.04.01/';
% %     event_file = '2016.04.01_Garfunkel_SKF81297_10mM.mat';
% %     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-04-01-2016.bhv', ...
% %                  'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-04-01-2016_01.bhv', ...
% %                  'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-04-01-2016_02.bhv'};
% %     unit_files = {'2016.04.01_Garfunkel_SKF81297_10mM_4120-6812_CombinedMultiUnit.mat', ...
% %                   '2016.04.01_Garfunkel_SKF81297_10mM_4120-6812_Unit01.mat', ...
% %                   '2016.04.01_Garfunkel_SKF81297_10mM_4120-6812_Unit02.mat', ...
% %                   '2016.04.01_Garfunkel_SKF81297_10mM_54-2328_Unit01_Multi.mat', ...
% %                   '2016.04.01_Garfunkel_SKF81297_10mM_7979-9490_CombinedMultiUnit.mat', ...
% %                   '2016.04.01_Garfunkel_SKF81297_10mM_7979-9490_Unit02.mat', ...
% %                   '2016.04.01_Garfunkel_SKF81297_10mM_8821-9490_Unit01.mat'};
% %     add_session( sub_direc, event_file, bhv_files, unit_files, drug ); 
%     
%     
%     % 2016.04.03
%     sub_direc = '2016.04.03/';
%     event_file = '2016.04.03_Garfunkel_SKF81297_10mM.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-04-03-2016.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-04-03-2016_01.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-04-03-2016_02.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-04-03-2016_03.bhv'};
%     unit_files = {'2016.04.03_Garfunkel_SKF81297_10mM_880-1963_Unit01.mat', ...
%                  '2016.04.03_Garfunkel_SKF81297_10mM_3608-4720_Unit01_Multi.mat', ...
%                  '2016.04.03_Garfunkel_SKF81297_10mM_4865-6269_MultiUnit.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
%     
%     
%     %%%% Removed first 964 timestamps because they were in the "High"
%     %%%% (>200) format. Now works, but am missing those first trials.
%     % 2016.04.04 
%     sub_direc = '2016.04.04/';
%     event_file = '2016.04.04_Garfunkel_SKF81297_10mM_new.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-04-04-2016.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-04-04-2016_01.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-04-04-2016_02.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-04-04-2016_03.bhv'};
%     unit_files = {'2016.04.04_Garfunkel_SKF81297_10mM_11340-12723_MultiUnit_01.mat', ...
%                  '2016.04.04_Garfunkel_SKF81297_10mM_239-2458_MultiUnit.mat', ...
%                  '2016.04.04_Garfunkel_SKF81297_10mM_3170-6900_MultiUnit.mat', ...
%                  '2016.04.04_Garfunkel_SKF81297_10mM_7700-9482_Unit01_Multi.mat',...
%                  '2016.04.04_Garfunkel_SKF81297_10mM_7775-9482_Unit01_Multi.mat', ...
%                  '2016.04.04_Garfunkel_SKF81297_10mM_7775-9482_Unit02.mat',...
%                  '2016.04.04_Garfunkel_SKF81297_10mM_7845-9482_Unit02.mat', ...
%                  '2016.04.04_Garfunkel_SKF81297_10mM_9482-10846_Unit01_Multi.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
%      
%     
%     %2016.04.06
%     sub_direc = '2016.04.06/';
%     event_file = '2016.04.06_Garfunkel_SKF81297_10mM.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-04-06-2016.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-04-06-2016_01.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-04-06-2016_02.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-04-06-2016_03.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-04-06-2016_04.bhv'};
%     unit_files = {'2016.04.06_Garfunkel_SKF81297_10mM_1670_2573_Unit01.mat', ...
%                  '2016.04.06_Garfunkel_SKF81297_10mM_1670_2573_Unit02_Multi.mat', ...
%                  '2016.04.06_Garfunkel_SKF81297_10mM_2835-4338_Unit01.mat', ...
%                  '2016.04.06_Garfunkel_SKF81297_10mM_2835-4338_Unit02.mat', ...
%                  '2016.04.06_Garfunkel_SKF81297_10mM_4434-6870_Unit01.mat', ...
%                  '2016.04.06_Garfunkel_SKF81297_10mM_4434-6870_Unit02.mat', ...
%                  '2016.04.06_Garfunkel_SKF81297_10mM_7442-8711_Unit01_Multi.mat', ...
%                  '2016.04.06_Garfunkel_SKF81297_10mM_7442-8711_Unit02.mat', ...
%                  '2016.04.06_Garfunkel_SKF81297_10mM_830-2573_Unit01_Multi.mat', ...
%                  '2016.04.06_Garfunkel_SKF81297_10mM_830-2573_Unit02.mat', ...
%                  '2016.04.06_Garfunkel_SKF81297_10mM_9135-11040_Unit01.mat', ...
%                  '2016.04.06_Garfunkel_SKF81297_10mM_9135-11040_Unit02.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug ); 
%     
%     
%     % 2016.05.12 %%%% NEED TO REMOVE DUPLICATE UNITS %%%% Had a problem in
%     % which two timestamps were over 200 - some sort of weird plexon
%     % glitch. Removed them manually.
%     sub_direc = '2016.05.12/';
%     event_file = '2016.05.12_Garfunkel_10mM_SKF81297.mat';
%     bhv_files = { 'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-12-2016_03.bhv', ... 
%                   'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-05-12-2016.bhv'};
%     unit_files = {'2016.05.12_Garfunkel_10mM_SKF81297_3149-5255_MultiUnit1.mat', ...
%                   '2016.05.12_Garfunkel_10mM_SKF81297_3149-5255_Unit1.mat', ...
%                   '2016.05.12_Garfunkel_10mM_SKF81297_3149-5973_MultiUnit1.mat', ...
%                   '2016.05.12_Garfunkel_10mM_SKF81297_3149-5973_Unit1.mat', ...
%                   '2016.05.12_Garfunkel_10mM_SKF81297_7757-10925_MultiUnitAll.mat', ...
%                   '2016.05.12_Garfunkel_10mM_SKF81297_7757-9086_MultiUnitAll.mat', ...
%                   '2016.05.12_Garfunkel_10mM_SKF81297_7757-9086_Unit1.mat', ...
%                   '2016.05.12_Garfunkel_10mM_SKF81297_9119-10925_MultiUnitAll.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );     
% % 'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-12-2016.bhv', ...
% % 'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-12-2016_01.bhv', ...
% % 'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-12-2016_02.bhv', ...
%     
%     
%     % 2016.05.20 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
%     sub_direc = '2016.05.20/';
%     event_file = '2016.05.20_Garfunkel_SKF81297_10mM.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-20-2016.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-20-2016_01.bhv'};
%     unit_files = {'2016.05.20_Garfunkel_SKF81297_10mM_3697-6288_MultiUnit.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );     
% 
% 
%     % 2016.05.24 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
%     sub_direc = '2016.05.24/';
%     event_file = '2016.05.24_Garfunkel_SKF81297_10mM.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-24-2016.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-24-2016_01.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-24-2016_02.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-24-2016_03.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-24-2016_04.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-24-2016_05.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-24-2016_06.bhv'};
%     unit_files = {'2016.05.24_Garfunkel_SKF81297_10mM_1050-3467_MultiUnit2.mat', ...
%                   '2016.05.24_Garfunkel_SKF81297_10mM_1050-4765_MultiUnitAll.mat', ...
%                   '2016.05.24_Garfunkel_SKF81297_10mM_1241-3467_Unit1.mat', ...
%                   '2016.05.24_Garfunkel_SKF81297_10mM_3467-4765_MultiUnit2.mat', ...
%                   '2016.05.24_Garfunkel_SKF81297_10mM_3467-4765_Unit1.mat', ...
%                   '2016.05.24_Garfunkel_SKF81297_10mM_8861-10526_Unit1.mat', ...
%                   '2016.05.24_Garfunkel_SKF81297_10mM_9419-10526_Unit1.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );     
% 
% 
%     % 2016.05.25 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
%     sub_direc = '2016.05.25/';
%     event_file = '2016.05.25_Garfunkel_SKF81297_10mM.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-25-2016.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-25-2016_01.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-25-2016_02.bhv'};
%     unit_files = {'2016.05.25_Garfunkel_SKF81297_10mM_10095-10539.mat', ...
%                   '2016.05.25_Garfunkel_SKF81297_10mM_2088-3246_MultiUnit1.mat', ...
%                   '2016.05.25_Garfunkel_SKF81297_10mM_2088-3246_Unit1.mat', ...
%                   '2016.05.25_Garfunkel_SKF81297_10mM_6360-7616_MultiUnit1.mat', ...
%                   '2016.05.25_Garfunkel_SKF81297_10mM_6360-7616_MultiUnit2.mat', ...
%                   '2016.05.25_Garfunkel_SKF81297_10mM_6360-7616_Unit2.mat', ...
%                   '2016.05.25_Garfunkel_SKF81297_10mM_7621-8139_Unit1.mat', ...
%                   '2016.05.25_Garfunkel_SKF81297_10mM_8395-10093_MultiUnit1.mat', ...
%                   '2016.05.25_Garfunkel_SKF81297_10mM_8395-10093_MultiUnit2.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );     
% 
% %     2016.05.31 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%  %%% FIX FIX
% %     FIX%%% %%% FOR whatever reason no timestamps or strobed in plx
% %     timestamp file - shall try to save out again, otherwise ditch.
% %     sub_direc = '2016.05.31/';
% %     event_file = '2016.05.31_Garfunkel_10mM_SKF81297.mat';
% %     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-31-2016_01.bhv'};
% %     unit_files = {'2016.05.31_Garfunkel_10mM_SKF81297_7985-9679_MultiUnit.mat'};
% %     drug = 'SKF81297';
% %     add_session( sub_direc, event_file, bhv_files, unit_files, drug );     
% 
% % 'MGS-Garf-05-31-2016.bhv', ...
% % 'MGS-Garf-05-31-2016_01.bhv', ...
% % 'MGS-Garf-05-31-2016_02.bhv', ...
% % 'MGS_NonRandom-Garf-05-31-2016.bhv', ...
% % 'MGS_NonRandom-Garf-05-31-2016_01.bhv', ...
% % 'MGS_NonRandom-Garf-05-31-2016_02.bhv', ...
% % 'MGS_NonRandom-Garf-05-31-2016_03.bhv'};
% % 'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-05-31-2016.bhv', ...
%                      
%     
%     % 2016.08.03 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
%     sub_direc = '2016.08.03/';
%     event_file = '2016.08.03_Garfunkel_SKF81297_10mM.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-03-2016.bhv'};
%     unit_files = {'2016.08.03_Garfunkel_SKF81297_10mM_0-849_MultiUnit1.mat', ...
%                   '2016.08.03_Garfunkel_SKF81297_10mM_0-849_Unit1.mat', ...
%                   '2016.08.03_Garfunkel_SKF81297_10mM_1193-2335_MultiUnit1.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );     
%     
%     % 2016.08.08 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
%     sub_direc = '2016.08.08/';
%     event_file = '2016.08.08_Garfunkel_SKF81296_10mM.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-08-2016.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-08-2016_01.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-08-2016_02.bhv'};
%     unit_files = {'2016.08.08_Garfunkel_SKF81296_10mM_1834-3371_MultiUnitAll.mat', ...
%                   '2016.08.08_Garfunkel_SKF81296_10mM_2007-2896_MultiUnit1.mat', ...
%                   '2016.08.08_Garfunkel_SKF81296_10mM_2586-3371_MultiUnit2.mat', ...
%                   '2016.08.08_Garfunkel_SKF81296_10mM_2586-3371_Unit1.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );     
%     
%     % 2016.08.12 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
%     sub_direc = '2016.08.12/';
%     event_file = '2016.08.12_Garfunkel_SKF81297_10mM.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-12-2016.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-12-2016_01.bhv'};
%     unit_files = {'2016.08.12_Garfunkel_SKF81297_10mM_3351-4323_MultiUnit.mat', ...
%                   '2016.08.12_Garfunkel_SKF81297_10mM_4422-5498_MultiUnit.mat', ...
%                   '2016.08.12_Garfunkel_SKF81297_10mM_8138-10159_MultiUnit.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
%     
%     
%     % 2016.08.14 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
%     sub_direc = '2016.08.14/';
%     event_file = '2016.08.14_Garfunkel_10mM_SKF81297.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-14-2016.bhv'};
%     unit_files = {'2016.08.14_Garfunkel_10mM_SKF81297_1675-3532_MultiUnit1.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug ); 
% 
% 
%     % 2016.08.18 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
%     sub_direc = '2016.08.18/';
%     event_file = '2016.08.18_Garfunkel_10mM_SKF81297.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-18-2016.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-18-2016_01.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-18-2016_02.bhv'};
%     unit_files = {'2016.08.18_Garfunkel_10mM_SKF81297_2300-3501_Unit1.mat', ...
%                   '2016.08.18_Garfunkel_10mM_SKF81297_4440-5268_MultiUnit1.mat', ...
%                   '2016.08.18_Garfunkel_10mM_SKF81297_4440-5268_MultiUnitAll.mat', ...
%                   '2016.08.18_Garfunkel_10mM_SKF81297_4440-5268_Unit1.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug ); 
%     
%  
%     % 2016.08.22 %%%% NEED TO REMOVE DUPLICATE UNITS %%%% %%% ADD FILE?
%     sub_direc = '2016.08.22/';
%     event_file = '2016.08.22_Garfunkel_10mM_SKF81297.mat';
%     bhv_files = { 'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-22-2016_01.bhv', ...
%                   'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-22-2016_02.bhv', ...
%                   'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-22-2016_03.bhv'};
%     unit_files = {'2016.08.22_Garfunkel_10mM_SKF81297_1382-1802_Unit1.mat', ...
%                   '2016.08.22_Garfunkel_10mM_SKF81297_1382-2063_MultiUnit1.mat', ...
%                   '2016.08.22_Garfunkel_10mM_SKF81297_1382-2063_MultiUnit2.mat', ...
%                   '2016.08.22_Garfunkel_10mM_SKF81297_1382-2063_MultiUnitAll.mat', ...
%                   '2016.08.22_Garfunkel_10mM_SKF81297_1382-2063_Unit1.mat', ...
%                   '2016.08.22_Garfunkel_10mM_SKF81297_1382-2063_Unit2.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
% % 'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-22-2016.bhv', ...
%                  
%     
%     % 2016.08.26 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
%     sub_direc = '2016.08.26/';
%     event_file = '2016.08.26_Garfunkel_10mM_SKF81297.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-26-2016.bhv'};
%     unit_files = {'2016.08.26_Garfunkel_10mM_SKF81297_415-1502_Multiunit.mat', ...
%                   '2016.08.26_Garfunkel_10mM_SKF81297_1557-3113_Multiunit_01-AllUnits.mat', ...
%                   '2016.08.26_Garfunkel_10mM_SKF81297_1557-3113_Multiunit02_WithoutLargeUnit.mat', ...
%                   '2016.08.26_Garfunkel_10mM_SKF81297_1557-3113_Unit02.mat', ...
%                   '2016.08.26_Garfunkel_10mM_SKF81297_1763-2484_Unit01.mat', ...
%                   '2016.08.26_Garfunkel_10mM_SKF81297_3368-4843_MultiUnit.mat', ...
%                   '2016.08.26_Garfunkel_10mM_SKF81297_6488-7632_MultiUnit_All.mat', ...
%                   '2016.08.26_Garfunkel_10mM_SKF81297_6488-7632_Multiunit01.mat', ...
%                   '2016.08.26_Garfunkel_10mM_SKF81297_6488-7632_Unit01.mat', ...
%                   '2016.08.26_Garfunkel_10mM_SKF81297_7850-8540_MultiUnit01.mat', ...
%                   '2016.08.26_Garfunkel_10mM_SKF81297_7850-8540_MultiUnitAll.mat', ...
%                   '2016.08.26_Garfunkel_10mM_SKF81297_7850-8540_Unit01.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
% 
%     % 2016.08.30 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
%     sub_direc = '2016.08.30/';
%     event_file = '2016.08.30_Garfunkel_10mM_SKF81297.mat';
%     bhv_files = { 'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-31-2016.bhv', ... %'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-29-2016.bhv', ...
%                   'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-08-31-2016_01.bhv'};
%     unit_files = {'2016.08.30_Garfunkel_10mM_SKF81297_32-1845_MultiUnit01.mat', ...
%                   '2016.08.30_Garfunkel_10mM_SKF81297_2560-3057_MultiUnit01.mat', ...
%                   '2016.08.30_Garfunkel_10mM_SKF81297_2560-3788_MultiUnitAll.mat', ...
%                   '2016.08.30_Garfunkel_10mM_SKF81297_2560-4626_MultiUnitAll.mat', ...
%                   '2016.08.30_Garfunkel_10mM_SKF81297_3788-4626_MultiUnit.mat', ...
%                   '2016.08.30_Garfunkel_10mM_SKF81297_3788-4626_Unit01.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
%     
%     % 2016.09.02
%     sub_direc = '2016.09.02/';
%     event_file = '2016.09.02_Garfunkel_10mM_SKF81297.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-09-02-2016.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-09-02-2016_01.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-09-02-2016_02.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-09-02-2016_03.bhv'};
%     unit_files = {'2016.09.02_Garfunkel_10mM_SKF81297_725-2814_MultiUnit01.mat', ...
%                   '2016.09.02_Garfunkel_10mM_SKF81297_3020-3823_MultiUnit01.mat', ...
%                   '2016.09.02_Garfunkel_10mM_SKF81297_3020-3823_Unit01.mat', ...
%                   '2016.09.02_Garfunkel_10mM_SKF81297_3823-4329_Unit01.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
% 
%     % 2016.09.29 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
%     sub_direc = '2016.09.29/';
%     event_file = '2016.09.29_Garfunkel_10mM_SKF81297.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-09-29-2016.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-09-29-2016_01.bhv'};
%     unit_files = {'2016.09.29_Garfunkel_10mM_SKF81297_1158-4057_MultiUnit1.mat', ...
%                   '2016.09.29_Garfunkel_10mM_SKF81297_2135-4057_MultiUnit2.mat', ...
%                   '2016.09.29_Garfunkel_10mM_SKF81297_2135-4057_MultiUnitAll.mat', ...
%                   '2016.09.29_Garfunkel_10mM_SKF81297_2880-4057_MultiUnit.mat', ...
%                   '2016.09.29_Garfunkel_10mM_SKF81297_3524-4057_Unit1.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug ); 
% %'LP_Cue_NoCue_Blank_Fix_8Dir_Probes-Garf-09-29-2016.bhv'};
% 
%     
%     
%     % 2016.09.30 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
%     sub_direc = '2016.09.30/';
%     event_file = '2016.09.30_Garfunkel_SKF81297_10mM.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-09-30-2016.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-09-30-2016_01.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-09-30-2016_02.bhv'};
%     unit_files = {'2016.09.30_Garfunkel_SKF81297_10mM_3052-4142_MultiUnitAll.mat', ...
%                   '2016.09.30_Garfunkel_SKF81297_10mM_4981-5679_MultiUnit1.mat', ...
%                   '2016.09.30_Garfunkel_SKF81297_10mM_4981-5679_MultiUnitAll.mat', ...
%                   '2016.09.30_Garfunkel_SKF81297_10mM_4981-5679_Unit1.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug ); 
%     
%     
%     % 2016.10.04 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
%     sub_direc = '2016.10.04/';
%     event_file = '2016.10.04_Garfunkel_10mM_SKF81297.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-10-04-2016.bhv', ...
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-10-04-2016_01.bhv', ...
%                  'MGS-garf-10-04-2016.bhv'};
%     unit_files = {'2016.10.04_Garfunkel_10mM_SKF81297_3234-4821_MultiUnit.mat', ...
%                   '2016.10.04_Garfunkel_10mM_SKF81297_3234-4821_MultiUnitAll.mat', ...
%                   '2016.10.04_Garfunkel_10mM_SKF81297_3234-4821_Unit1.mat', ...
%                   '2016.10.04_Garfunkel_10mM_SKF81297_3234-4821_Unit2.mat', ...
%                   '2016.10.04_Garfunkel_10mM_SKF81297_683-3227_MultiUnit.mat', ...
%                   '2016.10.04_Garfunkel_10mM_SKF81297_683-3227_UnitA.mat', ...
%                   '2016.10.04_Garfunkel_10mM_SKF81297_683-3227_UnitB.mat'};
%     drug = 'SKF81297';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug ); 
%     
%     
%     % 2016.10.06 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
%     sub_direc = '2016.10.06/';
%     event_file = '2016.10.06_Garfunkel_10mM_SCH23390.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-10-06-2016.bhv'
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-10-06-2016_01.bhv'};
%     unit_files = {'2016.10.06_Garfunkel_10mM_SCH23390_2381-4600_MultiUnit.mat', ...
%                   '2016.10.06_Garfunkel_10mM_SCH23390_2911-4302_MultiUnit.mat', ...
%                   '2016.10.06_Garfunkel_10mM_SCH23390_2911-4302_Unit1.mat', ...
%                   '2016.10.06_Garfunkel_10mM_SCH23390_440-1650_Unit1.mat', ...
%                   '2016.10.06_Garfunkel_10mM_SCH23390_6193-6659_Unit1.mat', ...
%                   '2016.10.06_Garfunkel_10mM_SCH23390_6193-6659_Unit2.mat', ...
%                   '2016.10.06_Garfunkel_10mM_SCH23390_8488-9456_MultiUnit.mat', ...
%                   '2016.10.06_Garfunkel_10mM_SCH23390_9568-11490_MultiUnit1.mat', ...
%                   '2016.10.06_Garfunkel_10mM_SCH23390_9568-11490_MultiUnitAll.mat'};
%     drug = 'SCH23390';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
%     
%     
%     % 2016.10.07 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
%     sub_direc = '2016.10.07/';
%     event_file = '2016.10.07_Garfunkel_10mM_SCH23390.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-10-07-2016.bhv'
%                  'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-10-07-2016_01.bhv'};
%     unit_files = {'2016.10.07_Garfunkel_10mM_SCH23390_2880-4660_MultiUnit.mat', ...
%                  '2016.10.07_Garfunkel_10mM_SCH23390_4955-6998_MultiUnit.mat', ...
%                  '2016.10.07_Garfunkel_10mM_SCH23390_8256-9069_MultiUnit.mat', ...
%                  '2016.10.07_Garfunkel_10mM_SCH23390_8256-9069_Unit1.mat', ...
%                  '2016.10.07_Garfunkel_10mM_SCH23390_8256-9069_Unit2.mat', ...
%                  '2016.10.07_Garfunkel_10mM_SCH23390_8256-9069_Unit3.mat'};
%     drug = 'SCH23390';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
% 
%     
%     % 2016.10.09 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
%     sub_direc = '2016.10.09/';
%     event_file = '2016.10.09_Garfunkel_10mM_SCH23390.mat';
%     bhv_files = {'LP_Cue_NoCue_Blank_Fix_8Dir_MGS-Garf-10-09-2016.bhv'};
%     unit_files = {'2016.10.09_Garfunkel_10mM_SCH23390_10059-10500_MultiUnit1.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_10059-10500_Unit1.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_11145-12669_MultiUnit1.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_11145-12669_MultiUnitAll.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_11145-12669_Unit1.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_1398-2439_MultiUnit1.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_1398-2439_MultiUnit2.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_1398-2439_MultiUnit3.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_1398-2439_MultiUnitAll.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_1398-2439_Unit1.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_1398-2439_Unit2.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_196-1324_MultiUnit.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_2482-2933_MultiUnit1.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_2482-2933_MultiUnitAll.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_2482-3084_MultiUnit1.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_2482-3084_MultiUnitAll.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_6078-6718_MultiUnit1.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_6078-6718_MultiUnitAll.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_6078-6718_Unit1.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_7020-9465_MultiUnit1.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_7020-9465_MultiUnitAll.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_7020-9465_Unit1.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_7020-9465_Unit2.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_7682-9465_MultiUnit1.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_7682-9465_MultiUnitAll.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_7682-9465_Unit1.mat', ...
%                  '2016.10.09_Garfunkel_10mM_SCH23390_7682-9465_Unit2.mat'};
%     drug = 'SCH23390';
%     add_session( sub_direc, event_file, bhv_files, unit_files, drug );
%             
%             
% 
% %     % 2016.09.30 %%%% NEED TO REMOVE DUPLICATE UNITS %%%%
% %     sub_direc = '/';
% %     event_file = '';
% %     bhv_files = {''};
% %     unit_files = {''};
% %     add_session( sub_direc, event_file, bhv_files, unit_files, drug ); 
%     
%     
%     
%     
%     
    
   
